<div class="auth-container">
  <app-environment-selector></app-environment-selector>
  <div class="auth-card">
    <div class="illustration-side">
      <div class="illustration">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">
          <!-- Gear 1 -->
          <path class="gear" d="M150,150 C150,116.9 176.9,90 210,90 C243.1,90 270,116.9 270,150 C270,183.1 243.1,210 210,210 C176.9,210 150,183.1 150,150 Z M210,120 C193.4,120 180,133.4 180,150 C180,166.6 193.4,180 210,180 C226.6,180 240,166.6 240,150 C240,133.4 226.6,120 210,120 Z" />
          
          <!-- Gear 2 -->
          <path class="gear small-gear" d="M180,210 C180,196.7 190.7,186 204,186 C217.3,186 228,196.7 228,210 C228,223.3 217.3,234 204,234 C190.7,234 180,223.3 180,210 Z" />
          
          <!-- Shield -->
          <path class="shield" d="M210,270 L180,240 L210,210 L240,240 L210,270 Z M210,250 C204.5,250 200,245.5 200,240 C200,234.5 204.5,230 210,230 C215.5,230 220,234.5 220,240 C220,245.5 215.5,250 210,250 Z" />
          
          <!-- Key -->
          <path class="key" d="M210,240 L230,240 L230,260 L210,260 Z M220,250 C223.3,250 226,247.3 226,244 C226,240.7 223.3,238 220,238 C216.7,238 214,240.7 214,244 C214,247.3 216.7,250 220,250 Z" />
          
          <!-- Person 1 -->
          <path class="person" d="M150,300 C150,288.9 158.9,280 170,280 C181.1,280 190,288.9 190,300 L190,340 L150,340 Z" />
          <circle class="person-head" cx="170" cy="270" r="15" />
          
          <!-- Person 2 -->
          <path class="person" d="M230,300 C230,288.9 238.9,280 250,280 C261.1,280 270,288.9 270,300 L270,340 L230,340 Z" />
          <circle class="person-head" cx="250" cy="270" r="15" />
          
          <!-- Secure Text -->
          <rect class="secure-box" x="220" y="130" width="80" height="40" rx="5" />
          <text class="secure-text" x="260" y="155" text-anchor="middle">SECURE</text>
          
          <!-- Decorative elements -->
          <path class="leaf" d="M300,300 Q320,280 340,300 Q320,320 300,300 Z" />
          <path class="leaf" d="M320,320 Q340,300 360,320 Q340,340 320,320 Z" />
        </svg>
      </div>
    </div>
    <div class="form-side">
      <h1>¡Bienvenido!</h1>
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="form-field">
          <div class="input-icon">
            <i class="material-icons">email</i>
          </div>
          <input 
            type="email" 
            formControlName="email" 
            placeholder="Tu correo electrónico"
            [ngClass]="{'invalid': loginForm.get('email')?.invalid && loginForm.get('email')?.touched}"
            autocomplete="email"
          >
        </div>
        <div class="form-field">
          <div class="input-icon">
            <i class="material-icons">lock</i>
          </div>
          <input 
            type="password" 
            formControlName="password" 
            placeholder="Tu contraseña"
            [ngClass]="{'invalid': loginForm.get('password')?.invalid && loginForm.get('password')?.touched}"
            autocomplete="current-password"
          >
        </div>
        <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
        <div class="auth-actions">
          <button type="submit" class="sign-in-btn" [disabled]="loginForm.invalid">Iniciar sesión</button>
          <a routerLink="/login/register" class="create-account-btn">Crear cuenta</a>
        </div>
      </form>
    </div>
  </div>
</div>
